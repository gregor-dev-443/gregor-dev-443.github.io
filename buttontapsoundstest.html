<!DOCTYPE html>
<html>
<head>
  <title>Test for button tap sounds</title>
  <meta charset="utf-8" />
</head>
<body>
  <h1>Test for button tap sounds</h1>
  <p>
    <input type="checkbox" id="mute-checkbox" check />
    <label for="mute-checkbox">Mute</label>
  </p>
  <p>
    <button id="test-button">Test</button>
  </p>
  <audio id="tap-sound" src="https://opengameart.org/sites/default/files/Menu%20Selection%20Click.wav"></audio>
  <script>
    //Store the HTML elements in variables
    const muteCheckbox = document.getElementById("mute-checkbox");
    const tapSound = document.getElementById("tap-sound");
    const testButton = document.getElementById("test-button");
    
    //Automatically enable the checkbox when the item "muted" is present in local storage
    if (localStorage.getItem("muted")) {
      muteCheckbox.checked = true;
    }

    //Add the item "muted" to local storage when the checkbox is enabled and remove the item when it isn't enabled anymore
    muteCheckbox.addEventListener("change", () => {
      if (muteCheckbox.checked) {
        localStorage.setItem("muted", "on");
      } else {
        localStorage.removeItem("muted");
      }
    });

    //Play the sound when the button is clicked and the item "muted" isn't present in local storage
    testButton.addEventListener("click", () => {
      if (!localStorage.getItem("muted")) {
        tapSound.play();
      }
    });
  </script>
</body>
</html>
